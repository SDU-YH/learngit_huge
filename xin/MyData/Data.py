import jieba
import json
import requests
import abc
import GetData
from GetData import *
#处理用户数据
class Data_base:
    def __init__(self,ask_type):
        print(ask_type)
        if ask_type=='账户查询':
            self.my_url=r'https://lingxinyun.cn/sp/getId'
            self.user_account=''
        else:
            self.my_url=r'https://lingxinyun.cn/sp/getSandPlay'
            self.user_account={'id':ask_type}
        #print(self.my_url)
        self.response=requests.get(url=self.my_url,params=self.user_account)
        self.text=self.response.text
        self.json_data=json.loads(self.text)
    #@abc.abstractclassmethod
    def get_handled_data(self):
    
        #print(self.json_data)
        return self.json_data
    


class Get_gamedata(Data_base):
    def get_handled_data(self,A):#A:主题名
        make_moudle=[]
        delete_moudle=[]
        
        for i in range(len(self.json_data)):
            if self.json_data[i][0:2]=='创建':
                make_moudle.append(self.json_data[i][5:len(self.json_data[i])-1])
            if self.json_data[i][0:2]=='删除':
                delete_moudle.append(self.json_data[i][5:len(self.json_data[i])-1])
        print(make_moudle)
        for i in range(len(make_moudle)):
            m_c=find_database(make_moudle[i],A)
            make_moudle[i]=str(int(m_c))
        for i in range(len(delete_moudle)):
            d_c=find_database(delete_moudle[i],A)
            delete_moudle[i]=str(int(d_c))
        final_num={
            '0':0,
            '1':0,
            '2':0,
            '3':0,
            '4':0,
            '5':0,
            '6':0,
            '7':0,
            '8':0,
            '9':0,
            '10':0
        }
        print(make_moudle)
        print(delete_moudle)
        for i in range(len(make_moudle)):
            a=final_num[make_moudle[i]]
            final_num[make_moudle[i]]=a+1

        for i in range(len(delete_moudle)):
            a=final_num[delete_moudle[i]]
            final_num[delete_moudle[i]]=a-1
        return final_num
        
def find_database(mm,cn):
    result=0
    people=[
            {
            '人物':'阎罗王',
            '主题1':6.0,
            '主题2':9.0,
            '主题3':8.0,
            '主题4':5.0,
            '主题5':10.0
            },
            {'序号': 1.0,
            '人物': '祖父',
            '主题1': 6.0,
            '主题2': 8.0, 
            '主题3': 5.0, 
            '主题4': 9.0, 
            '主题5': 10.0},
           {'序号': 2.0, 
           '人物': '祖母', 
           '主题1': 6.0, 
           '主题2': 8.0, 
           '主题3': 5.0, 
           '主题4': 9.0, 
           '主题5': 10.0},
           {'序号': 3.0, 
           '人物': '父亲', 
           '主题1': 7.0, 
           '主题2': 8.0, 
           '主题3': 6.0, 
           '主题4': 9.0, 
           '主题5': 10.0},
          {'序号': 4.0, 
          '人物': '母亲', 
          '主题1': 7.0, 
          '主题2': 8.0, 
          '主题3': 6.0, 
          '主题4': 9.0, 
          '主题5': 10.0},
          {'序号': 5.0, 
          '人物': '幼儿男', 
          '主题1': 5.0, 
          '主题2': 7.0, 
          '主题3': 6.0, 
          '主题4': 8.0, 
          '主题5': 9.0},
         {'序号': 6.0, 
         '人物': '幼儿女', 
         '主题1': 5.0, 
         '主题2': 7.0, 
         '主题3': 6.0, 
         '主题4': 8.0, 
         '主题5': 9.0},
         {'序号': 7.0, 
         '人物': '少年男', 
         '主题1': 7.0, 
         '主题2': 7.0, 
         '主题3': 7.0, 
         '主题4': 8.0, 
         '主题5': 9.0},
         {'序号': 8.0, 
         '人物': '少年女', 
         '主题1': 7.0, 
         '主题2': 7.0, 
         '主题3': 7.0, 
         '主题4': 8.0, 
         '主题5': 9.0},
         {'序号': 9.0, 
         '人物': '青年男', 
         '主题1': 9.0, 
         '主题2': 5.0, 
         '主题3': 7.0, 
         '主题4': 8.0, 
         '主题5': 6.0},
         {'序号': 10.0, 
         '人物': '青年女', 
         '主题1': 9.0, 
         '主题2': 5.0, 
         '主题3': 7.0, 
         '主题4': 8.0, 
         '主题5': 6.0},
         {'序号': 11.0, 
         '人物': '警察', 
         '主题1': 7.0, 
         '主题2': 6.0, 
         '主题3': 5.0, 
         '主题4': 9.0, 
         '主题5': 8.0},
         {'序号': 12.0, 
         '人物': '演员', 
         '主题1': 5.0, 
         '主题2': 8.0, 
         '主题3': 9.0, 
         '主题4': 7.0, 
         '主题5': 6.0},
         {'序号': 13.0, 
         '人物': '运动员男', 
         '主题1': 7.0, 
         '主题2': 8.0, 
         '主题3': 9.0, 
         '主题4': 5.0, 
         '主题5': 6.0},
         {'序号': 14.0, 
         '人物': '运动员女', 
         '主题1': 7.0, 
         '主题2': 9.0, 
         '主题3': 8.0, 
         '主题4': 6.0, 
         '主题5': 5.0},
         {'序号': 15.0, 
         '人物': '医生', 
         '主题1': 9.0, 
         '主题2': 5.0, 
         '主题3': 6.0, 
         '主题4': 7.0, 
         '主题5': 8.0},
         {'序号': 16.0, 
         '人物': '护士', 
         '主题1': 9.0, 
         '主题2': 6.0, 
         '主题3': 5.0, 
         '主题4': 7.0, 
         '主题5': 8.0},
         {'序号': 17.0, 
         '人物': '律师', 
         '主题1': 8.0, 
         '主题2': 6.0, 
         '主题3': 5.0, 
         '主题4': 7.0, 
         '主题5': 9.0},
         {'序号': 18.0, 
         '人物': '战士男', 
         '主题1': 5.0, 
         '主题2': 6.0, 
         '主题3': 7.0, 
         '主题4': 9.0, 
         '主题5': 8.0},
         {'序号': 19.0, 
         '人物': '战士女', 
         '主题1': 6.0, 
         '主题2': 5.0, 
         '主题3': 9.0, 
         '主题4': 7.0, 
         '主题5': 8.0},
         {'序号': 20.0, 
         '人物': '老师', 
         '主题1': 10.0, 
         '主题2': 7.0, 
         '主题3': 6.0, 
         '主题4': 8.0, 
         '主题5': 9.0}
         ]
    anmail=[
            {'序号': 1.0, 
            '动物': '猫', 
            '主题1': 7.0, 
            '主题2': 8.0, 
            '主题3': 6.0, 
            '主题4': 5.0, 
            '主题5': 9.0},
            {'序号': 2.0, 
            '动物': '狗', 
            '主题1': 7.0, 
            '主题2': 8.0, 
            '主题3': 6.0, 
            '主题4': 5.0, 
            '主题5': 9.0},
            {'序号': 3.0, 
            '动物': '猪', 
            '主题1': 5.0, 
            '主题2': 7.0, 
            '主题3': 8.0, 
            '主题4': 9.0, 
            '主题5': 6.0},
            {'序号': 4.0, 
            '动物': '牛', 
            '主题1': 8.0, 
            '主题2': 6.0, 
            '主题3': 5.0, 
            '主题4': 7.0, 
            '主题5': 9.0},
            {'序号': 5.0, 
            '动物': '羊', 
            '主题1': 8.0, 
            '主题2': 6.0, 
            '主题3': 5.0, 
            '主题4': 9.0, 
            '主题5': 7.0},
            {'序号': 6.0, 
            '动物': '马', 
            '主题1': 7.0, 
            '主题2': 6.0, 
            '主题3': 10.0, 
            '主题4': 8.0, 
            '主题5': 9.0},
            {'序号': 7.0, 
            '动物': '兔子', 
            '主题1': 5.0, 
            '主题2': 6.0, 
            '主题3': 9.0, 
            '主题4': 7.0, 
            '主题5': 8.0},
            {'序号': 8.0, 
            '动物': '鸡', 
            '主题1': 7.0, 
            '主题2': 6.0, 
            '主题3': 5.0, 
            '主题4': 9.0, 
            '主题5': 8.0},
            {'序号': 9.0, 
            '动物': '蛇', 
            '主题1': 5.0, 
            '主题2': 8.0, 
            '主题3': 9.0, 
            '主题4': 6.0, 
            '主题5': 7.0},
            {'序号': 10.0, 
            '动物': '龙', 
            '主题1': 7.0, 
            '主题2': 9.0, 
            '主题3': 8.0, 
            '主题4': 6.0, 
            '主题5': 5.0},
            {'序号': 11.0, 
            '动物': '鸟', 
            '主题1': 6.0, 
            '主题2': 5.0, 
            '主题3': 9.0, 
            '主题4': 8.0, 
            '主题5': 7.0},
            {'序号': 12.0, 
            '动物': '熊猫', 
            '主题1': 5.0, 
            '主题2': 6.0, 
            '主题3': 8.0, 
            '主题4': 9.0, 
            '主题5': 7.0},
            {'序号': 13.0, 
            '动物': '企鹅', 
            '主题1': 5.0, 
            '主题2': 6.0, 
            '主题3': 8.0, 
            '主题4': 7.0, 
            '主题5': 9.0},
            {'序号': 14.0, 
            '动物': '猴', 
            '主题1': 5.0, 
            '主题2': 9.0, 
            '主题3': 8.0, 
            '主题4': 7.0, 
            '主题5': 6.0},
            {'序号': 15.0, 
            '动物': '狮子', 
            '主题1': 6.0, 
            '主题2': 9.0, 
            '主题3': 10.0, 
            '主题4': 7.0, 
            '主题5': 8.0}]
    plant=[
                   {'序号': 1.0, 
                   '植物': '梅花', 
                   '主题1': 10.0, 
                   '主题2': 6.0, 
                   '主题3': 8.0, 
                   '主题4': 9.0, 
                   '主题5': 7.0},
                   {'序号': 2.0, 
                   '植物': '兰花', 
                   '主题1': 8.0, 
                   '主题2': 6.0, 
                   '主题3': 7.0, 
                   '主题4': 5.0, 
                   '主题5': 4.0},
                   {'序号': 3.0, 
                   '植物': '竹', 
                   '主题1': 8.0, 
                   '主题2': 6.0, 
                   '主题3': 7.0, 
                   '主题4': 5.0, 
                   '主题5': 4.0},
                   {'序号': 4.0, 
                   '植物': '菊', 
                   '主题1': 8.0, 
                   '主题2': 6.0, 
                   '主题3': 7.0, 
                   '主题4': 9.0, 
                   '主题5': 5.0},
                   {'序号': 5.0, 
                   '植物': '牡丹', 
                   '主题1': 5.0, 
                   '主题2': 8.0, 
                   '主题3': 6.0, 
                   '主题4': 7.0, 
                   '主题5': 4.0},
                   {'序号': 6.0, 
                   '植物': '草', 
                   '主题1': 5.0, 
                   '主题2': 5.0, 
                   '主题3': 7.0, 
                   '主题4': 8.0, 
                   '主题5': 6.0},
                   {'序号': 7.0, 
                   '植物': '树木', 
                   '主题1': 5.0, 
                   '主题2': 5.0, 
                   '主题3': 6.0, 
                   '主题4': 7.0, 
                   '主题5': 5.0},
                   {'序号': 8.0, 
                   '植物': '玫瑰', 
                   '主题1': 8.0, 
                   '主题2': 7.0, 
                   '主题3': 7.0, 
                   '主题4': 6.0, 
                   '主题5': 6.0},
                   {'序号': 9.0, 
                   '植物': '桃花', 
                   '主题1': 9.0, 
                   '主题2': 6.0, 
                   '主题3': 8.0, 
                   '主题4': 7.0, 
                   '主题5': 6.0},
                   {'序号': 10.0, 
                   '植物': '莲花', 
                   '主题1': 9.0, 
                   '主题2': 6.0, 
                   '主题3': 8.0, 
                   '主题4': 7.0, 
                   '主题5': 6.0}]
    buliding=[
            {'': 1.0, 
            '建筑': '学校', 
            '主题1': '', 
            '主题2': '', 
            '主题3': '', 
            '主题4': '', 
            '主题5': ''},
            {'': 2.0, 
            '建筑': '政府', 
            '主题1': '', 
            '主题2': '', 
            '主题3': '', 
            '主题4': '', 
            '主题5': ''},
            {'': 3.0, 
            '建筑': '家的建筑', 
            '主题1': '', 
            '主题2': '', 
            '主题3': '', 
            '主题4': '', 
            '主题5': ''},
            {'': 4.0, 
            '建筑': '写字楼', 
            '主题1': '', 
            '主题2': '', 
            '主题3': '', 
            '主题4': '', 
            '主题5': ''},
            {'': 5.0, 
            '建筑': '医院', 
            '主题1': '', 
            '主题2': '', 
            '主题3': '', 
            '主题4': '', 
            '主题5': ''},
            {'': 6.0, 
            '建筑': '军营', 
            '主题1': '', 
            '主题2': '', 
            '主题3': '', 
            '主题4': '', 
            '主题5': ''},
            {'': 7.0, 
            '建筑': '庙宇', 
            '主题1': '', 
            '主题2': '', 
            '主题3': '', 
            '主题4': '', 
            '主题5': ''},
            {'': 8.0, 
            '建筑': '教堂', 
            '主题1': '', 
            '主题2': '', 
            '主题3': '', 
            '主题4': '', 
            '主题5': ''},
            {'': 9.0, 
            '建筑': '公园牌楼', 
            '主题1': '', 
            '主题2': '', 
            '主题3': '', 
            '主题4': '', 
            '主题5': ''},
            {'': 10.0, 
            '建筑': '亭子、宝塔', 
            '主题1': '', 
            '主题2': '', 
            '主题3': '', 
            '主题4': '', 
            '主题5': ''}]
    vehicle=[{'序号': 1.0, 
            '交通工具': '汽车', 
            '主题1': 7.0, 
            '主题2': 8.0, 
            '主题3': 9.0, 
            '主题4': 8.0, 
            '主题5': 8.0},
            {'序号': 2.0, 
            '交通工具': '火车', 
            '主题1': 7.0, 
            '主题2': 5.0, 
            '主题3': 9.0, 
            '主题4': 8.0, 
            '主题5': 7.0},
            {'序号': 3.0, 
            '交通工具': '轮船', 
            '主题1': 7.0, 
            '主题2': 5.0, 
            '主题3': 9.0, 
            '主题4': 8.0, 
            '主题5': 7.0},
            {'序号': 4.0, 
            '交通工具': '飞机', 
            '主题1': 7.0, 
            '主题2': 8.0, 
            '主题3': 9.0, 
            '主题4': 8.0, 
            '主题5': 7.0},
            {'序号': 5.0, 
            '交通工具': '桥梁', 
            '主题1': 7.0, 
            '主题2': 6.0, 
            '主题3': 8.0, 
            '主题4': 8.0, 
            '主题5': 6.0},
            {'序号': 6.0, 
            '交通工具': '自行车', 
            '主题1': 7.0, 
            '主题2': 5.0, 
            '主题3': 6.0, 
            '主题4': 8.0, 
            '主题5': 8.0}]
    for single_people in people:
        if single_people['人物']==mm:
            result=single_people[cn]
    for single_ani in anmail:
        if single_ani['动物']==mm:
            result=single_ani[cn]
    for single_plant in plant:
        if single_plant['植物']==mm:
            result=single_plant[cn]
    for single_veh in vehicle:
        if single_veh['交通工具']==mm:
            result=single_veh[cn]
    for single_buli in buliding:
        if single_buli['建筑']==mm:
            result=single_buli[cn]
    return result




'''
data_from_web=Get_gamedata(2800)
A=data_from_web.get_handled_data('主题1')'''
